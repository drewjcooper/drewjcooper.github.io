---
title: Exercise 3 - Collections and Sorting
date: '2010-07-02T04:41:00.001+10:00'
tags:
- C# Specifics
- C# Exercise
- ".NET Specifics"
modified_time: '2010-07-02T04:58:25.866+10:00'
---

<p>The third exercise in <a href="http://www.jobsnake.com/seek/articles/index.cgi?openarticle&amp;8533" target="_blank">15 Exercises for Learning a new Programming Language</a> is:</p>  <blockquote>   <p>Accepting series of numbers, strings from keyboard and sorting them ascending, descending order.</p> </blockquote>  <p>The naive solution would be to build an array of entered strings/numbers and then write a method that will sort that array - a simple bubble sort would do.&#160; Of course, .NET offers a better way…</p> <a name='more'></a>  <p>The <code>System.Collections</code> and <code>System.Collections.Generic</code> namespaces contain a number of classes that implement such things as dynamically sized arrays, lists, ordered lists, hash tables, etc.&#160; These classes provide moethods for sorting the contents of the collections.&#160; For this solution I decided to use a <code>List&lt;T&gt;</code> to store the input data and do the sorting.&#160; Here’s the code:</p>  <div class="csharpcode">   <pre><span class="lnum">   1:  </span><span class="kwrd">using</span> System;</pre>

  <pre><span class="lnum">   2:  </span><span class="kwrd">using</span> System.Collections.Generic;</pre>

  <pre><span class="lnum">   3:  </span><span class="kwrd">using</span> System.Linq;</pre>

  <pre><span class="lnum">   4:  </span>&#160;</pre>

  <pre><span class="lnum">   5:  </span><span class="kwrd">class</span> MainClass</pre>

  <pre><span class="lnum">   6:  </span>{</pre>

  <pre><span class="lnum">   7:  </span>    <span class="kwrd">static</span> <span class="kwrd">void</span> Main()</pre>

  <pre><span class="lnum">   8:  </span>    {</pre>

  <pre><span class="lnum">   9:  </span>        <span class="kwrd">string</span> inputLine;</pre>

  <pre><span class="lnum">  10:  </span>&#160;</pre>

  <pre><span class="lnum">  11:  </span>        List&lt;<span class="kwrd">string</span>&gt; strings = <span class="kwrd">new</span> List&lt;<span class="kwrd">string</span>&gt;();</pre>

  <pre><span class="lnum">  12:  </span>        Console.WriteLine(<span class="str">&quot;Enter a series of strings, one per line.  Finish with a blank line&quot;</span>); </pre>

  <pre><span class="lnum">  13:  </span>        <span class="kwrd">while</span> ((inputLine = Console.ReadLine()) != <span class="str">&quot;&quot;</span>) {</pre>

  <pre><span class="lnum">  14:  </span>            strings.Add(inputLine);</pre>

  <pre><span class="lnum">  15:  </span>        }</pre>

  <pre><span class="lnum">  16:  </span>        strings.Sort();</pre>

  <pre><span class="lnum">  17:  </span>        Console.WriteLine(<span class="str">&quot;Ascending list of strings:&quot;</span>);</pre>

  <pre><span class="lnum">  18:  </span>        <span class="kwrd">foreach</span> (<span class="kwrd">string</span> item <span class="kwrd">in</span> strings)</pre>

  <pre><span class="lnum">  19:  </span>        {</pre>

  <pre><span class="lnum">  20:  </span>            Console.WriteLine(<span class="str">&quot;   &quot;</span> + item);</pre>

  <pre><span class="lnum">  21:  </span>        }</pre>

  <pre><span class="lnum">  22:  </span>        strings.Reverse();</pre>

  <pre><span class="lnum">  23:  </span>        Console.WriteLine(<span class="str">&quot;Descending list of strings:&quot;</span>);</pre>

  <pre><span class="lnum">  24:  </span>        <span class="kwrd">foreach</span> (<span class="kwrd">string</span> item <span class="kwrd">in</span> strings)</pre>

  <pre><span class="lnum">  25:  </span>        {</pre>

  <pre><span class="lnum">  26:  </span>            Console.WriteLine(<span class="str">&quot;   &quot;</span> + item);</pre>

  <pre><span class="lnum">  27:  </span>        }</pre>

  <pre><span class="lnum">  28:  </span>&#160;</pre>

  <pre><span class="lnum">  29:  </span>        Console.WriteLine();</pre>

  <pre><span class="lnum">  30:  </span>&#160;</pre>

  <pre><span class="lnum">  31:  </span>        List&lt;<span class="kwrd">double</span>&gt; numbers = <span class="kwrd">new</span> List&lt;<span class="kwrd">double</span>&gt;();</pre>

  <pre><span class="lnum">  32:  </span>        <span class="kwrd">double</span> inputNumber;</pre>

  <pre><span class="lnum">  33:  </span>        Console.WriteLine(<span class="str">&quot;Enter a series of numbers, one per line.  Finish with a blank line&quot;</span>);</pre>

  <pre><span class="lnum">  34:  </span>        <span class="kwrd">while</span> ((inputLine = Console.ReadLine()) != <span class="str">&quot;&quot;</span>)</pre>

  <pre><span class="lnum">  35:  </span>        {</pre>

  <pre><span class="lnum">  36:  </span>            <span class="kwrd">if</span> (<span class="kwrd">double</span>.TryParse(inputLine, <span class="kwrd">out</span> inputNumber))</pre>

  <pre><span class="lnum">  37:  </span>            {</pre>

  <pre><span class="lnum">  38:  </span>                numbers.Add(inputNumber);</pre>

  <pre><span class="lnum">  39:  </span>            }</pre>

  <pre><span class="lnum">  40:  </span>        }</pre>

  <pre><span class="lnum">  41:  </span>        numbers.Sort();</pre>

  <pre><span class="lnum">  42:  </span>        Console.WriteLine(<span class="str">&quot;Ascending list of numbers:&quot;</span>);</pre>

  <pre><span class="lnum">  43:  </span>        <span class="kwrd">foreach</span> (<span class="kwrd">double</span> item <span class="kwrd">in</span> numbers)</pre>

  <pre><span class="lnum">  44:  </span>        {</pre>

  <pre><span class="lnum">  45:  </span>            Console.WriteLine(<span class="str">&quot;   &quot;</span> + item.ToString());</pre>

  <pre><span class="lnum">  46:  </span>        }</pre>

  <pre><span class="lnum">  47:  </span>        numbers.Reverse();</pre>

  <pre><span class="lnum">  48:  </span>        Console.WriteLine(<span class="str">&quot;Descending list of numbers:&quot;</span>);</pre>

  <pre><span class="lnum">  49:  </span>        <span class="kwrd">foreach</span> (<span class="kwrd">double</span> item <span class="kwrd">in</span> numbers)</pre>

  <pre><span class="lnum">  50:  </span>        {</pre>

  <pre><span class="lnum">  51:  </span>            Console.WriteLine(<span class="str">&quot;   &quot;</span> + item.ToString());</pre>

  <pre><span class="lnum">  52:  </span>        }</pre>

  <pre><span class="lnum">  53:  </span>    }</pre>

  <pre><span class="lnum">  54:  </span>}</pre>
</div>

<p>Notice that this code is in two halves that are almost identical.&#160; Lines 11 through 27 takes string input and add it to a list, then sort the list and output, then reverse the elements in the list and output again.&#160; Lines 31 through 52 do the same for numbers (in this case <code>double</code>).&#160; </p>

<p>Aside from the variable names and the type parameter in the <code>List&lt;T&gt;</code> type, the only real difference in the code between the two sections is line 36.&#160; Each of the numeric types have a static method called <code>TryParse</code> which tries to parse a value of that type from a given string, and returns <code>true</code> or <code>false</code> to indicate success or failure.&#160; There is also a <code>Parse</code> method which returns the parsed value directly, but throws an exception if it can’t find a value in the string.</p>

<p>One thing to notice about <code>TryParse</code> is the <code>out</code> modifier on the second parameter.&#160; This modifier is like the <code>ref</code> modifier we saw in the swap method <a href="http://learningcsharpnet.blogspot.com/2010/06/exercise-2-fibonacci-and-other-things.html" target="_blank">a couple of posts ago</a>, except that it doesn’t require the variable used in the method call to be initialised at the time of the call.</p>

<p></p>

<p>So, that will for this post, I think.&#160; Till next time….</p>  